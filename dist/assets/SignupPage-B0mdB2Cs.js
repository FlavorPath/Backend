import{r as l,j as e,c as t,L as u,h as d}from"./index-8zlRE-qI.js";import{c as h,a as g,v as w,I as x,b as n}from"./auth.styles-BJOsQ-c-.js";import{B as f}from"./Button-B76DXv8C.js";import"./index-Cc4pVggC.js";import"./auth.store-C-PIHe4R.js";import"./react-BldeI6aZ.js";import"./Icon-DN8LPNFT.js";import"./index-DqL8lkA2.js";import"./float-GDraHBfA.js";const j=()=>{const{mutate:i}=h(),c=()=>{if(s.password!==s.confirm_password){o({...a,password:"비밀번호가 일치하지 않습니다.",confirm_password:"비밀번호가 일치하지 않습니다."});return}i({username:s.userId,password:s.password,nickname:s.nickname})},{inputs:s,errors:a,setErrors:o,handleChange:r,handleSubmit:m}=g({initialValues:{userId:"",nickname:"",password:"",confirm_password:""},validates:w,submitHandler:c});return l.useEffect(()=>{s.password&&s.confirm_password&&s.password!==s.confirm_password?o({...a,password:"비밀번호가 일치하지 않습니다.",confirm_password:"비밀번호가 일치하지 않습니다."}):o({...a,password:"",confirm_password:""})},[s]),{inputs:s,onChange:r,onSubmit:m,getErrorMessage:p=>a[p],getPlaceholder:p=>{switch(p){case"userId":return"아이디를 입력해 주세요.";case"password":return"비밀번호를 입력해 주세요.";case"nickname":return"닉네임을 입력해 주세요.";case"confirm_password":return"확인용 비밀번호를 입력해 주세요."}}}},F=()=>{const{onSubmit:i,onChange:c,inputs:s,getPlaceholder:a,getErrorMessage:o}=j();return e.jsx("div",{className:t({height:"calc(100dvh - 90px)"}),children:e.jsxs("form",{onSubmit:i,className:d(n.form,t({marginTop:"28px",gap:"40px"})),children:[Object.keys(s).map(r=>e.jsxs("div",{children:[e.jsx(x,{name:r,type:r.includes("password")?"password":"text",value:s[r],onChange:c,className:o(r)?n.error:"",placeholder:a(r)}),e.jsx("p",{className:n.error_text,children:o(r)})]},r)),e.jsxs("div",{className:d(n.button_grp,t({bottom:"23px"})),children:[e.jsx(f,{type:"submit",size:"large",variant:"filled",className:t({width:"100%"}),children:"회원가입하기"}),e.jsxs("p",{className:n.link_text,children:["회원이라면?"," ",e.jsx(u,{to:"/auth/login",className:t({fontWeight:"medium"}),children:"로그인하기"})]})]})]})})};export{F as default};
