import{r as p,u as h,j as g,h as w,c as s}from "./index-DXBLHHrj.js";import{a as f,u as y}from "./index-yo3Ex1nr.js";import{A as b}from "./api-path-DDJkiDth.js";import{u as v}from "./auth.store-BubyNNlM.js";import{I as S}from "./Icon-CjOVr4Uv.js";import{c as I,f as _}from "./float-sWumIdEC.js";const L=({initialValues:t,validates:r,submitHandler:e})=>{const[o,n]=p.useState(t),[u,a]=p.useState(t),[l,x]=p.useState(!1);return{inputs:o,errors:u,isLoading:l,handleChange: d=>{const{name:i,value:m}=d.target;n({...o,[i]:m}),a({...u,[i]:""})},handleSubmit: d=>{x(!0),d.preventDefault();const i=r(o);a(i),Object.values(i).every(m=>!m)&&(e(),x(!1))},setErrors:a}},A=async(t, r)=>(await f.post(`${b.user}/login`,{username:t,password:r})).data,E=async(t, r, e)=>(await f.post(`${b.user}/register`,{username:t,password:r,nickname:e})).data,Z=()=>{const t=h(),{setAccessToken:r}=v();return y({mutationFn:({username:e,password:o})=>A(e,o),onSuccess: e=>{r(e.token),t("/")},onError: e=>{var o;((o=e.response)==null?void 0:o.status)===404&&alert("사용자를 찾을 수 없습니다.")}})},K=()=>{const t=h();return y({mutationFn:({username:r,password:e,nickname:o})=>E(r,e,o),onSuccess:()=>t("/auth/login")})},j= t=>t?t.match(/^[a-zA-Z0-9]+$/)?"":"영문 대소문자, 숫자만 입력할 수 있습니다.":"아이디를 입력해 주세요.",B= t=>t?t.match(/^[가-힣a-zA-Z0-9]+$/)?t.length<2?"닉네임은 2자 이상 가능합니다.":"":"한글, 영문, 숫자만 입력할 수 있습니다.":"닉네임을 입력해 주세요.",C= t=>t?t.match(/^[A-Za-z0-9]+$/)?t.length<6?"비밀번호는 6자 이상 가능합니다.":"":"영문, 숫자만 입력할 수 있습니다.":"비밀번호를 입력해 주세요.",k={userId:j,password:C,nickname:B},O= t=>{const r={};return Object.keys(t).forEach(e=>{const n=k[e];n&&(r[e]=n(t[e]))}),r},R=({className:t,error:r,...e})=>{const[o,n]=p.useState(!1),u=()=>n(l=>!l),a=()=>e.type!=="password"||o?"text":"password";return g.jsxs("div",{className:c.input_wrap,children:[g.jsx("input",{...e,type:a(),className:w(c.input,r?c.error:c.default,t)}),e.type==="password"&&g.jsx(S,{library:"hero-solid",iconName:o?"EyeIcon":"EyeSlashIcon",onClick:u,className:c.eye_icon})]})},c={input_wrap:s({position:"relative"}),input:s({width:"100%",height:"58px",padding:"0 3px 0 10px",alignItems:"center",textStyle:"body1",outline:"none","&::placeholder":{color:"background.gray"}}),eye_icon:s({position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)"}),default:s({borderBottomColor:"background.gray",borderBottomWidth:"1px"}),error:s({borderBottomColor:"secondary.red",borderBottomWidth:"1px",color:"secondary.red"})},V={error:s({borderBottomColor:"secondary.red",borderBottomWidth:"1px"}),error_text:s({color:"secondary.red",textStyle:"body2",marginTop:"8px"}),form:s({display:"flex",flexDir:"column",margin:"0 30px",gap:"46px"}),link_text:s({textAlign:"center",textStyle:"caption1",fontWeight:"light",marginTop:"16px"}),button_grp:s({width:"calc(100% - 60px)",position:"absolute",bottom:"25px",left:0,margin:"0 30px"}),input_wrap:_({flexDirection:"column",gap:"54px",margin:"0 30px"}),logo_box:I({width:"375px",height:"214px",marginBottom:"30px"})};export{R as I,L as a,V as b,K as c,Z as u,O as v};
