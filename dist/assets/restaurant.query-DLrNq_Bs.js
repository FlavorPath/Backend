import{a as s}from"./index-DTlkZk8a.js";import{A as o}from"./api-path-DnyBEyJv.js";import{q as u}from"./index-8zlRE-qI.js";import{u as c}from"./useQuery-DXe8zmVD.js";import{u as i}from"./index-Cc4pVggC.js";const n=()=>{var t;const e=localStorage.getItem("auth-storage");if(!e)return"";try{return((t=JSON.parse(e).state)==null?void 0:t.accessToken)||""}catch(r){return console.error("Failed to parse auth-storage:",r),""}},p=async(e,t)=>{const r=`${o.restaurant}/${e}`;return(await s.get(r,{headers:{Authorization:`Bearer ${t}`}})).data},l=async(e,t)=>{const r=`${o.restaurant}/${e}/scrap`,a=await s.post(r,{headers:{Authorization:`Bearer ${t}`}});return console.log("response "+a),a.data},f=e=>{const t=n();return c({queryKey:["restaurant",e],queryFn:()=>p(e,t),staleTime:1e3*60*5,enabled:!!e&&!!t})},S=()=>{const e=n();return i({mutationFn:t=>l(t,e),onSettled:async(t,r,a)=>{await u.invalidateQueries({queryKey:["restaurant",a]})}})};export{S as a,f as u};
